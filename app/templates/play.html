{% extends "base.html" %}
{% block content %}
<div class="container-fluid">
    <div class="row align-items-center justify-content-center" style="min-height: 70vh;">

        <div class="col-lg-6">
            <div id="game-board" class="mb-4">
                {% for guess_row in history %}
                <div class="game-row">
                    {% for letter_info in guess_row %}
                    <div class="letter-box {{ letter_info.color }}">{{ letter_info.letter }}</div>
                    {% endfor %}
                </div>
                {% endfor %}

                {% for i in range(5 - history|length) %}
                <div class="game-row">
                    <div class="letter-box"></div>
                    <div class="letter-box"></div>
                    <div class="letter-box"></div>
                    <div class="letter-box"></div>
                    <div class="letter-box"></div>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="col-lg-4 text-center">
            <div class="game-controls glass-card p-5">
                <h2 class="mb-3">Guess the Word!</h2>

                {% if not game_over %}
                <p class="lead mb-4">You have {{ 5 - attempts }} guesses remaining.</p>
                <form method="POST" class="game-form">
                    <input type="text" name="guess" class="form-control form-control-lg text-center mb-3"
                        style="text-transform: uppercase;" maxlength="5" minlength="5" pattern="[A-Za-z]{5}"
                        title="Enter a 5-letter word" required autofocus>
                    <button type="submit" class="btn btn-glass-primary w-100">Guess</button>
                </form>
                {% endif %}

                {% if message %}
                <div class="mt-4">
                    <h4>{{ message }}</h4>
                    <a href="{{ url_for('main.play') }}" class="btn btn-light mt-2">Play Again</a>
                </div>
                {% endif %}
            </div>
        </div>

    </div>
</div>
{% endblock %}